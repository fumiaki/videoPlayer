<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Video Player Electron</title>
  </head>
  <body>
    <div style="max-width: 400px">
      <canvas id="mainCanvas" onclick="vp.playing=!vp.playing;"></canvas>
    </div>

    <div>
      <button id="btnPlay" onclick="vp.playing=!vp.playing;">Play</button>
    </div>

    <div>
      <div id="labelFramerate">FPS:000</div>
      <div id="labelFrameNumber">FN :0</div>
      <div id="labelFilterList">(no filter)</div>
    </div>

    <script src="app.js"></script>
    <script>
    var vp;
    window.addEventListener("load", function() {
      var path = require('path');
      var fs = require('fs');
      var cm = require('./cvModule.js');

      var VIDEO_FILE = path.resolve('asset', 'vtest.avi');
      var cvs = document.getElementById('mainCanvas');
      var cvModules = [
        new cm.CvtColor({color:cm.CvtColor.RGB2GRAY}),
        new cm.GaussianBlur({ksize:[9,9]}),
        new cm.Dilate({},enabled=false),
        new cm.Erode({},enabled=false),
        new cm.MorphologyEx({kernel: new cv.Mat(15, 15, cv.CV_8U, 1), morphType: cv.MORPH_OPEN}),
        new cm.Canny({minVal: 80, maxVal: 20,}),
        new cm.HoughLines({},enabled=false),
        new cm.HoughLinesP({},enabled=false),
        new cm.HoughCircles({},enabled=false),
      ]

      vp = new VideoPlayer(VIDEO_FILE, cvs, cvModules);
      vp.play();
      vp.playing = true
    })

    </script>
  </body>
</html>
